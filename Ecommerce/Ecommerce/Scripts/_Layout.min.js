function CarregarBotoes() { null != getCookie("aiopcod") ? ($("#btnSairD").fadeIn(0), $("#btnSairM").fadeIn(0)) : ($("#btnSairD").fadeOut(0), $("#btnSairM").fadeOut(0)) } function Loader(e) { e ? ($("#dvBody").fadeOut(), $(".lds-ellipsis").fadeIn()) : ($(".lds-ellipsis").fadeOut(), $("#dvBody").fadeIn()) } function createCookie(e, a, o) { var t; if (o) { var i = new Date; i.setTime(i.getTime() + 24 * o * 60 * 60 * 1e3), t = "; expires=" + i.toGMTString() } else t = ""; document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(a) + t + "; path=/" } function getCookie(e) { var a = ("; " + document.cookie).split("; " + e + "="); if (2 == a.length) return a.pop().split(";").shift() } function removeCookie(e) { var a = new Date; a.setTime(a.getTime() + -864e5); var o = "; expires=" + a.toGMTString(); document.cookie = e + "=" + o + "; path=/" } function CarregarRegras() { if (null != getCookie("aiopSessaoLogin") && null != getCookie("aiopcod") && null != getCookie("aiopemail") && null != getCookie("aiopnome") || (removeCookie("aiopSessaoLogin"), removeCookie("aiopcod"), removeCookie("aiopemail"), removeCookie("aiopnome")), null == getCookie("aiopcod")) { if (null != localStorage.getItem("aioCar")) JSON.parse(localStorage.getItem("aioCar")).offUser || (localStorage.removeItem("aioCar"), LoadCar()); if (null != localStorage.getItem("aioDes")) JSON.parse(localStorage.getItem("aioDes")).offUser || (localStorage.removeItem("aioDes"), LoadDes()) } else null != getCookie("aiopnome") && $(".spanNomeTop").text("Olá " + getCookie("aiopnome")), null == getCookie("aioploadingUser") && null == localStorage.getItem("aioCar") ? ObterCarrinho() : null != getCookie("aioploadingUser") && CarregarCarrinhoUsuario(); var e = window.location.href.replace("//", ""); null != localStorage.getItem("goToCart") && 0 != e.substr(e.indexOf("/") + 1).indexOf("Usuario/Login") && e.substr(e.indexOf("/") + 1).indexOf("Usuario/Cadastro") && localStorage.removeItem("goToCart") } function CarregarProdutos(e, a, o, t) { $.ajax({ type: "GET", url: "/Home/ObterProdutosPorCat?codsCategoria=" + o + "&nome=" + e, success: function (e) { $("#" + a).html(e), $("#" + t).fadeOut(0) }, error: function (e) { $("#" + t).fadeOut(0) } }) } function ConvertDateToDataLocal(e) { return dia = e.getDate().toString(), diaF = 1 == dia.length ? "0" + dia : dia, mes = (e.getMonth() + 1).toString(), mesF = 1 == mes.length ? "0" + mes : mes, anoF = e.getFullYear(), diaF + "/" + mesF + "/" + anoF } function FinalizarCompraOfCarrinho() { localStorage.setItem("goToCart", "on"), window.location.href = "/Carrinho" } function UpScroll() { $("html,body").animate({ scrollTop: 0 }, 300) } function BuscarCategoria() { var e = $("#buscarCategoria").val().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, ""); e.length > 0 ? $.ajax({ type: "GET", url: `/Home/BuscarCategoria?texto=${e}`, success: function (e) { e.sucesso ? ($("#divPesquisaCats").empty(), e.obj.length > 0 ? e.obj.forEach(function (e, a) { $("#divPesquisaCats").append(`<div class="itemPesquisaCat"><a href="/Produtos/${e.Nome}">${e.Descricao}</a></div>`) }) : ($("#divPesquisaCats").empty(), $("#divPesquisaCats").append('<div class="itemPesquisaCat"><a style="cursor:auto">Nenhum resultado encontrado!</a></div>'))) : ($("#divPesquisaCats").empty(), $("#divPesquisaCats").append('<div class="itemPesquisaCat"><a style="cursor:auto">Nenhum resultado encontrado!</a></div>')) } }) : ($("#divPesquisaCats").empty(), $("#divPesquisaCats").append('<div class="itemPesquisaCat"><a style="cursor:auto">Nenhum resultado encontrado!</a></div>')) } function CadEmail() { $("#btnEmailAssinatura").fadeIn(0); var e = $("#txtEmailAssinatura").val().trim(); !function (e) { return /^(([^<>()[\]\\.,;:\s@@\"]+(\.[^<>()[\]\\.,;:\s@@\"]+)*)|(\".+\"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) }(e) ? ($("#inputEmailAssinatura").css("border-bottom", "2px solid rgba(255, 7, 7, 0.66)"), $("#btnEmailAssinatura").fadeOut(0)) : ($("#inputEmailAssinatura").css("border-bottom", "2px solid rgba(204, 204, 204, 0.66)"), $.ajax({ type: "GET", url: `/Usuario/AssinarEmail?email=${e}`, success: function (e) { e.sucesso ? swal("E-mail cadastrado com sucesso", "Em breve você receberá novidades ;)", "success") : swal("Atenção", e.mensagem, "error"), $("#btnEmailAssinatura").fadeOut(0) }, error: function (e) { $("#btnEmailAssinatura").fadeOut(0), swal("Atenção", "Erro ao tentar conectar-se ao servidor. Tente novamente.", "error") } })) } $(".parallax100").parallax100(), $(() => { LoadCar(), LoadDes(), CarregarRegras(), CarregarBotoes() }); window.onload = function () {if (imgsErrors)window.location.reload();};